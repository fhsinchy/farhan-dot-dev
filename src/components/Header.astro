---
import { Menu, X } from 'lucide-astro';

const currentPath = Astro.url.pathname;
---

<header class="fixed top-0 left-0 right-0 z-50 border-b border-border bg-background/95 backdrop-blur">
  <nav class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
    <a
      href="/"
      class="text-foreground hover:text-primary transition-colors"
    >
      <span class="font-semibold">farhan.dev</span>
    </a>

    <!-- Desktop Navigation -->
    <div class="hidden md:flex items-center gap-8">
      <a
        href="/"
        class={`transition-colors ${
          currentPath === '/' 
            ? 'text-primary' 
            : 'text-muted-foreground hover:text-foreground'
        }`}
      >
        Home
      </a>
      <a
        href="/about"
        class={`transition-colors ${
          currentPath === '/about' 
            ? 'text-primary' 
            : 'text-muted-foreground hover:text-foreground'
        }`}
      >
        About
      </a>
      <a
        href="/nuggets"
        class={`transition-colors ${
          currentPath === '/nuggets' 
            ? 'text-primary' 
            : 'text-muted-foreground hover:text-foreground'
        }`}
      >
        Nuggets
      </a>
      <a
        href="/newsletter"
        class={`transition-colors ${
          currentPath === '/newsletter' 
            ? 'text-primary' 
            : 'text-muted-foreground hover:text-foreground'
        }`}
      >
        Newsletter
      </a>
      <a
        href="/contact"
        class={`transition-colors ${
          currentPath === '/contact' 
            ? 'text-primary' 
            : 'text-muted-foreground hover:text-foreground'
        }`}
      >
        Contact
      </a>
    </div>

    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-button"
      class="md:hidden text-foreground"
      aria-label="Toggle mobile menu"
    >
      <Menu id="menu-icon" size={24} />
      <X id="close-icon" size={24} class="hidden" />
    </button>
  </nav>

  <!-- Mobile Navigation -->
  <div id="mobile-menu" class="hidden md:hidden border-t border-border bg-background">
    <div class="max-w-6xl mx-auto px-6 py-4 flex flex-col gap-4">
      <a
        href="/"
        class={`text-left transition-colors ${
          currentPath === '/' 
            ? 'text-primary' 
            : 'text-muted-foreground hover:text-foreground'
        }`}
      >
        Home
      </a>
      <a
        href="/about"
        class={`text-left transition-colors ${
          currentPath === '/about' 
            ? 'text-primary' 
            : 'text-muted-foreground hover:text-foreground'
        }`}
      >
        About
      </a>
      <a
        href="/nuggets"
        class={`text-left transition-colors ${
          currentPath === '/nuggets' 
            ? 'text-primary' 
            : 'text-muted-foreground hover:text-foreground'
        }`}
      >
        Nuggets
      </a>
      <a
        href="/newsletter"
        class={`text-left transition-colors ${
          currentPath === '/newsletter' 
            ? 'text-primary' 
            : 'text-muted-foreground hover:text-foreground'
        }`}
      >
        Newsletter
      </a>
      <a
        href="/contact"
        class={`text-left transition-colors ${
          currentPath === '/contact' 
            ? 'text-primary' 
            : 'text-muted-foreground hover:text-foreground'
        }`}
      >
        Contact
      </a>
    </div>
  </div>
</header>

<script>
  // Mobile menu toggle
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuIcon = document.getElementById('menu-icon');
  const closeIcon = document.getElementById('close-icon');

  menuButton?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
    menuIcon?.classList.toggle('hidden');
    closeIcon?.classList.toggle('hidden');
  });
</script>
